<div class="container">
    <div id="stepper1" class="bs-stepper">
        <div class="bs-stepper-header">
            <div class="step" data-target="#test-l-1">
                <button class="step-trigger">
                    <span class="bs-stepper-circle">1</span>
                    <span class="bs-stepper-label">Items</span>
                </button>
            </div>
            <div class="line"></div>
            <div class="step" data-target="#test-l-2">
                <button class="step-trigger">
                    <span class="bs-stepper-circle">2</span>
                    <span class="bs-stepper-label">Choose Address</span>
                </button>
            </div>
            <div class="line"></div>
            <div class="step" data-target="#test-l-3">
                <button class="step-trigger">
                    <span class="bs-stepper-circle">3</span>
                    <span class="bs-stepper-label">Review Order</span>
                </button>
            </div>
            <div class="line"></div>
            <div class="step" data-target="#test-l-4">
                <button class="step-trigger">
                    <span class="bs-stepper-circle">4</span>
                    <span class="bs-stepper-label">Confirm Order</span>
                </button>
            </div>

        </div>
        <div class="bs-stepper-content">
            <div id="test-l-1" class="content">
                <div class="card mb-3 p-5">
                    <div class="row g-0 align-items-center">
                        <div class="col-md-3 justify-content-center">
                            <img class="w-100" [src]="product.imageUrl" [alt]="product.name">
                            <h2 class="text-danger m-4">{{product.price | currency:'INR'}}</h2>
                        </div>
                        <div class="col-md-6 justify-content-center">
                            <div class="card-body ">
                                <h2 class="font-weight-bold text-primary">{{product.name}}</h2>
                                <h4>{{product.description}}</h4>
                            </div>
                        </div>
                        <div class="col-md-3 justify-content-center">
                            <h3>Quantity: 1</h3>
                        </div>
                    </div>
                </div>
                <button (click)="next()" class="btn btn-primary" style="float: right;">Continue</button>
            </div>
            <div id="test-l-2" class="content">
                <form (ngSubmit)='onSubmit()' #shippingForm="ngForm">
                    <div class="form-group row">
                        <label for="name" class="col-lg-12 col-form-label">Name</label>
                        <div class="col-lg-12">
                            <input type="text" name="name" [(ngModel)]="address.name" class="form-control" required
                                #name="ngModel" placeholder="Name">
                            <div *ngIf="name.invalid && (name.dirty || name.touched)" class="text-danger">
                                <div *ngIf="name.errors.required">
                                    Name is required.
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-group row">
                        <label for="street" class="col-lg-12 col-form-label">Address (street, apartment, suite, unit
                            street etc.)</label>
                        <div class="col-lg-12">
                            <input type="text" name="street" [(ngModel)]="address.street" class="form-control" required
                                #street="ngModel" placeholder="Address (street, apartment, suite, unit street etc.)">
                            <div *ngIf="street.invalid && (street.dirty || street.touched)" class="text-danger">
                                <div *ngIf="street.errors.required">
                                    Address is required.
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-group row">
                        <label for="landmark" class="col-lg-12 col-form-label">Landmark</label>
                        <div class="col-lg-12">
                            <input type="text" name="landmark" [(ngModel)]="address.landmark" class="form-control"
                                #landmark="ngModel" placeholder="Landmark">
                        </div>
                    </div>

                    <div class="form-group row">
                        <label for="mob" class="col-lg-12 col-form-label">City</label>
                        <div class="col-lg-12">
                            <input type="text" name="city" [(ngModel)]="address.city" class="form-control" required
                                #city="ngModel" placeholder="City">
                            <div *ngIf="city.invalid && (city.dirty || city.touched)" class="text-danger">
                                <div *ngIf="city.errors.required">
                                    City is required.
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-group row">
                        <label for="state" class="col-lg-12 col-form-label">State</label>
                        <div class="col-lg-12">
                            <input type="text" name="username" [(ngModel)]="address.state" class="form-control" required
                                #state="ngModel" placeholder="State">
                            <div *ngIf="state.invalid && (state.dirty || state.touched)" class="text-danger">
                                <div *ngIf="state.errors.required">
                                    State is required.
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-group row">
                        <label for="zipcode" class="col-lg-12 col-form-label">Zipcode</label>
                        <div class="col-lg-12"><input type="text" name="zipcode" [(ngModel)]="address.zipcode"
                                class="form-control" required #zipcode="ngModel" placeholder="Zip/Postal Code">
                            <div *ngIf="zipcode.invalid && (zipcode.dirty || zipcode.touched)" class="text-danger">
                                <div *ngIf="zipcode.errors.required" placeholder="Password">
                                    Zipcode is required.
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-group row">
                        <label for="phone" class="col-lg-12 col-form-label">Phone Number</label>
                        <div class="col-lg-12"><input type="text" name="phone" [(ngModel)]="address.phone"
                                placeholder="Phone Number" class="form-control" required #phone="ngModel"
                                pattern="[1-9][0-9]{9}">
                            <div *ngIf="phone.invalid && (phone.dirty || phone.touched)" class="text-danger">
                                <div *ngIf="phone.errors.required">
                                    Phone number is required.
                                </div>
                                <div *ngIf="phone.errors.pattern">
                                    Phone number must have 10 digits only and cannot start with 0
                                </div>
                            </div>
                        </div>
                    </div>
                    <input type="submit" value="continue" [disabled]="!shippingForm.valid" class="btn btn-primary"
                        style="float: right;">
                </form>

            </div>
            <div id="test-l-3" class="content ">
                <div class="d-flex flex-row bd-highlight">
                    <div class="col-md-8">
                        <h2 class="font-weight-bold">Your Items</h2>
                        <div class="card mb-3 p-5">
                            <div class="row g-0 align-items-center">
                                <div class="col-md-3 justify-content-center">
                                    <img class="w-100" [src]="product.imageUrl" [alt]="product.name">
                                </div>
                                <div class="col-md-6 justify-content-center">
                                    <div class="card-body ">
                                        <h2 class="font-weight-bold text-primary">{{product.name}}</h2>
                                        <h4>{{product.description | truncate:[70]}}</h4>
                                    </div>
                                </div>
                                <div class="col-md-3 justify-content-center">
                                    <h3 class="font-weight-bold">{{product.price | currency: 'INR'}} X {{quantity}} =
                                        {{product.price * quantity | currency: 'INR'}}</h3>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card mb-3 p-5">
                            <h3>{{address.name}}</h3>
                            <h3>{{address.landmark}}</h3>
                            <h3>{{address.street}}</h3>
                            <h3>{{address.state}}</h3>
                            <h3>{{address.zipcode}}</h3>
                            <h3>Phone: {{address.phone}}</h3>
                        </div>
                    </div>
                </div>
                <div class="confirmOrder" style="float: right;">
                    <h3 class="font-weight-bold">
                        {{product.price * quantity | currency: 'INR'}}</h3>
                    <button (click)="confirmOrder()" [disabled]="!shippingForm.valid" class="btn btn-primary">Confirm
                        Order</button>
                </div>

            </div>
            <div id="test-l-4" class="content text-center">
                <div class="container d-flex justify-content-center">
                    <div *ngIf="isSuccess===1" class="alert alert-success col-md-4" role="alert">
                        Your order has been confirmed!
                    </div>
                    <div *ngIf="isSuccess===-1" class="alert alert-danger col-md-4" role="alert">
                        {{message}}
                    </div>
                </div>

            </div>

        </div>
    </div>
</div>